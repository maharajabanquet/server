{"version":3,"file":"src_app_tab2_tab2_module_ts.js","mappings":"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","sources":["./src/app/tab2/tab2-routing.module.ts","./src/app/tab2/tab2.module.ts","./src/app/tab2/tab2.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { Tab2Page } from './tab2.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: Tab2Page,\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class Tab2PageRoutingModule {}\n","import { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Tab2Page } from './tab2.page';\nimport { ExploreContainerComponentModule } from '../explore-container/explore-container.module';\n\nimport { Tab2PageRoutingModule } from './tab2-routing.module';\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    ExploreContainerComponentModule,\n    Tab2PageRoutingModule\n  ],\n  declarations: [Tab2Page]\n})\nexport class Tab2PageModule {}\n","import { ModalController, LoadingController, ViewWillEnter } from '@ionic/angular';\nimport { CommonServiceService } from './../common-service.service';\nimport { Component, Input } from '@angular/core';\nimport { SimpleModalPage } from '../tab1/simple-modal/simple-modal.page';\n@Component({\n  selector: 'app-tab2',\n  templateUrl: 'tab2.page.html',\n  styleUrls: ['tab2.page.scss']\n})\nexport class Tab2Page implements ViewWillEnter {\n  @Input() status: any = 'approved'\n  bookingData: any = [];\n  constructor(\n    private bookingService: CommonServiceService,\n    public modalController: ModalController,\n    public loadingController: LoadingController\n  ) { }\n\n  ngOnInit() {\n  }\n\n  ionViewWillEnter() {\n    this.getBooking();\n  }\n\n  getBooking() {\n    this.presentLoading().then(a => console.log('presented'));\n\n    this.bookingService.getAllBooking(this.status).subscribe((resp: any) => {\n      console.log(resp);\n      this.bookingData = resp && resp.bookingData || [];\n      this.loadingController.dismiss().then(a => console.log('dismissed'));\n\n    })\n  }\n\n  onToogle(event, booking) {\n    console.log(booking);\n    \n    let status: String;\n    console.log(event.target.value);\n    if(event.detail.checked) {\n      status = 'approved';\n    } else {\n      status = 'pending'\n    }\n\n    this.bookingService.confirmBooking(booking._id, status).subscribe((resp: any) => {\n      if(resp.status === 'success') {\n        this.getBooking();\n      }\n    }, (err) => {\n      console.log(\"Internal server error, Please try again\");\n      \n    })\n    \n  }\n\n  ChangeToogle(value) {\n    if(value === 'pending') {\n      return false;\n    } else {\n      return true\n    }\n  } \n \n  async presentModal(booking) {\n    console.log(\"form main\" , booking);\n    \n    const modal = await this.modalController.create({\n      component: SimpleModalPage,\n      breakpoints: [0, 0.3, 0.5, 0.8, 1],\n      initialBreakpoint: 0.8,\n      componentProps: {\n        booking: booking\n      }\n    });\n    modal.onDidDismiss().then(() => {\n      this.getBooking();\n    })\n    await modal.present();\n  }\n\n  async presentLoading() {\n    const loading = await this.loadingController.create({\n      message: 'please wait. . .',\n      duration: 5000\n    });\n    return await loading.present();\n  }\n}"],"names":["ModalController","LoadingController","CommonServiceService","Component","Input","SimpleModalPage","Tab2Page","constructor","bookingService","modalController","loadingController","ngOnInit","ionViewWillEnter","getBooking","presentLoading","then","a","console","log","getAllBooking","status","subscribe","resp","bookingData","dismiss","onToogle","event","booking","target","value","detail","checked","confirmBooking","_id","err","ChangeToogle","presentModal","modal","create","component","breakpoints","initialBreakpoint","componentProps","onDidDismiss","present","loading","message","duration","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}